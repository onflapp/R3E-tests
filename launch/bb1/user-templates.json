{
  "_pt": "resource/templates",
  "resource": {
    "redirect": {
      "default.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  let rurl = res._['redirect'];\n  if (rurl && context.getCurrentRequestPath() === context.getCurrentResourcePath()) {\n    let pref = context.getConfigProperty('APP_PREFIX');\n    if (pref) rurl = pref + rurl;\n\n    context.forwardRequest(rurl);\n    writer.end();\n  }\n  else {\n    writer.end();\n  }\n});\n"
      }
    },
    "notfound": {
      "d-list-values.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function (res, writer, context) {\n  writer.end();\n});\n"
      }
    }
  },
  "db": {
    "group": {
      "default.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_js \"resource/node/dev-tools.js\" \"db/_libs/cash.js\" \"db/_libs/ui.js\" \"db/_libs/components.js\"}}\n  {{include_css \"db/_libs/ui.css\"}}\n\n  <title>group</title>\n</head>\n\n<body>\n  {{trace \"this\"}}\n  <h1>\n    <a href=\"{{req_path \"..\"}}\">all</a> \n    {{_.title}}\n    <a href=\"{{req_path path 'config'}}\">(config)</a>\n  </h1>\n\n{{include \".\" \"t-items-table\"}}\n\n  <form method=\"post\" action=\"{{res_path \".\" \"{:name}\"}}\">\n    <input name=\"title\" value=\"\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":name|newUUID\" value=\"\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/item\">\n    <button type=\"submit\">add</button>\n  </form>\n\n</body>\n</html>\n"
      },
      "d-list-items.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = res['path'];\n  let ls = await ctx.listResources(path);\n  let rv = [];\n\n  for (let i = 0; i < ls.length; i++) {\n    let it = ls[i];\n    if (it.renderType == 'db/item') {\n      rv.push(it);\n    }\n  }\n\n  writer.write(rv);\n  writer.end();\n});"
      },
      "config.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <title>group</title>\n</head>\n\n<body>\n  <h1>Config <a href=\"{{req_path \".\" \"\"}}\">{{_.title}}</a></h1>\n  <form method=\"post\" action=\"{{res_path \".\"}}\">\n    <input name=\"title\" value=\"{{_.title}}\" autocomplete=\"off\" placeholder=\"title\">\n    <button type=\"submit\">save</button>\n  </form>\n\n{{#include \".\" \"d-list-fields\"}}\n  <div>\n   {{renderType}}:<a href=\"{{req_path path}}\"> {{_.title}}</a> \n          <a href=\"{{req_path path \"res-delete\"}}\">d</a>       \n  </div>\n{{/include}}\n\n  <form method=\"post\" action=\"{{res_path \"./config\" \"{:name}\"}}\">\n    <input name=\"title\" value=\"\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":name|newUUID\" value=\"\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <select name=\"_rt\">\n      <option value=\"db/field/text\">text value</option>\n      <option value=\"db/field/number\">number value</option>\n      <option value=\"db/field/bool\">bool value</option>\n      <option value=\"db/field/ref\">reference</option>\n      <option value=\"db/field/refs\">references</option>\n      <option value=\"db/field/date\">date time</option>\n    </select>\n    <button type=\"submit\">add</button>\n  </form>\n\n</body>\n</html>\n"
      },
      "d-list-fields.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = res['path'];\n  let rv = await ctx.listResources(`${path}/config`);\n  \n  writer.write(rv);\n  writer.end();\n});"
      },
      "d-list-ref-items.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let ref = Utils.filename(ctx.getCurrentRequestPath());\n  let path = res['path'];\n  let ls = await ctx.listResources(path);\n  let rv = [];\n  for (let i = 0; i < ls.length; i++) {\n    let it = ls[i];\n    if (it.renderType == 'db/item') {\n      let ll = [];\n      await find_ref(ctx, it.path, ref, ll);\n      if (ll.length) {\n        rv.push(it);\n      }\n    }\n  }\n\n  writer.write(rv);\n  writer.end();\n});\n\nasync function find_ref(ctx, path, ref, paths) {\n  return ctx.listAllResourceNames(path, function(item) {\n    let i = item.indexOf('/db_field_ref');\n    if (i == -1) return -1;\n\n    let p = path + item;\n    let n = Utils.filename(item);\n    if (ref == n) {\n      paths.push(path);\n      return -1;\n    }\n    else {\n     return 0;\n    }\n  });\n}"
      },
      "d-list-items-table.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "async function fields_for_columns(ctx, fields, cols) {\n  let rv = [];\n\n  for (let i = 0; i < cols.length; i++) {\n    let col = cols[i];\n    let values = [];\n\n    for (let x = 0; x < fields.length; x++) {\n      let field = fields[x];\n\n      if (field.values && col.name == field.name) {\n        for (let z = 0; z < field.values.length; z++) {\n          let value = field.values[z];\n\n          if (value['ignore']) continue;\n          if (value._ && value._.group_ref && value._.group_ref == col._.group_ref) {\n            let item_ref = value.name;\n            let group_ref = value._.group_ref;\n            let vres = await ctx.resolveResource(`/content/db/${group_ref}/${item_ref}`);\n\n            if (vres) {\n              values.push({\n                item_ref:item_ref,\n                group_ref:group_ref,\n                title:vres._.title,\n                color:vres._.color\n              });\n            }\n          }\n          else {\n            values.push(value);\n          }\n        }\n      }\n    }\n\n    rv.push({\n      name:col.name,\n      title:col._.title,\n      group_ref:col._.group_ref,\n      values:values\n    });\n  }\n  return rv;\n}\n\nfunction values_contain_field(fields, val) {\n  if (!val) return null;\n\n  for (let i = 0; i < fields.length; i++) {\n    let values = fields[i].values;\n    for (let x = 0; x < values.length; x++) {\n      let value = values[x];\n      if (value.name == val) {\n        value.field_name = fields[i].name;\n        return value;\n      }\n    }\n  }\n  return null;\n}\n\n(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let item_ref = ctx.getQueryProperty('item_ref');\n  let not_item_ref = ctx.getQueryProperty('not_item_ref');\n  let filter_item_ref = ctx.getQueryProperty('filter_item');\n  let path = res['path'];\n  let cols = await ctx.listResources(`${path}/config`);\n  let config = await ctx.resolveResource(`${path}/config`) || {};\n  let items = await ctx.listResources(path);\n  let rows = [];\n\n  for (let i = 0; i < items.length; i++) {\n    let item = items[i];\n    if ('db/item' != item.renderType) continue;\n\n    let fields = await ctx.listResources(item.path);\n    \n    for (let x = 0; x < fields.length; x++) {\n      let field = fields[x];\n      if (field.renderType == 'db/field/ref' || field.renderType == 'db/field/refs') {\n        let values = await ctx.listResources(field.path) || [];\n        field.values = values;\n      }\n      else {\n        field.values = [{\n         'title':field._.value\n        }];        \n      }\n    }\n\n    let field_name = null;\n    if (item_ref) {\n      let fv = values_contain_field(fields, item_ref);\n      if (fv == null) continue;\n      field_name = fv.field_name;\n      fv.ignore = true;\n    }\n\n    if (not_item_ref && values_contain_field(fields, not_item_ref) != null) continue;\n\n    if (values_contain_field(fields, filter_item_ref) != null) continue;\n    rows.push({\n      name:item.name,\n      path:item.path,\n      group_ref:res.name,\n      item_ref:item.name,\n      title:item._.title,\n      field_name:field_name,\n      note:item._.note,\n      color:item._.color,\n      fields:await fields_for_columns(ctx, fields, cols)\n    });\n  }\n\n  let rv = {\n    config:config['_'],\n    columns:cols,\n    rows:rows\n  };\n\n  writer.write(rv);\n  writer.end();\n});"
      },
      "t-ref-items-list.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "{{#include \".\" \"d-list-ref-items\"}}\n<div>\n  <a href=\"{{req_path path}}\">{{_.title}}</a>\n  <a href=\"{{req_path path \"res-delete\"}}\">d</a>\n</div>\n{{/include}}"
      },
      "t-items-list.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "{{#include \".\" \"d-list-items\"}}\n<div>\n  <a href=\"{{req_path path}}\">{{_.title}}</a>\n  <a href=\"{{req_path path \"res-delete\"}}\">d</a>\n</div>\n{{/include}}"
      },
      "t-items-table.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "<input type=\"text\" class=\"act-search\" data-table=\"#st{{S.RENDER_COUNT}}\">\n\n{{#include \".\" \"d-list-items-table\"}}\n  <table class=\"ui-sorted-table\" data-group_by=\"{{config.group_by}}\" data-sort_by=\"{{config.sort_by}}\" data-base_url=\"{{req_path ../R.DIRNAME}}\" id=\"st{{../S.RENDER_COUNT}}\">\n    <thead>\n      <tr>\n        <th>name</th>\n        <th>note</th>\n  {{#each columns}}\n        <th data-group_ref=\"{{_.group_ref}}\">\n          {{_.title}} [<a href=\"#\" class=\"act-sort\">s</a><a href=\"#\" class=\"act-group\">g</a>]\n        </th>\n  {{/each}}\n      </tr>\n    </thead>\n    <tbody>\n  {{#each rows}}\n    <tr>\n      <td data-group_ref=\"{{group_ref}}\" data-item_ref=\"{{item_ref}}\" data-item_style=\"{{color}}\">\n{{trace color}}\n        <a href=\"{{req_path path}}\">{{title}}</a>\n        <a href=\"{{req_path path \"res-delete\"}}\">d</a>\n      </td>\n      <td>\n        {{note}}\n      </td>\n    {{#each fields}}\n      <td data-group_ref=\"{{group_ref}}\">\n      {{#each values}}\n        <span class=\"ui-nav-item\" data-item_ref=\"{{item_ref}}\" data-item_style=\"{{color}}\">{{title}}</span>\n      {{/each}}\n      </td>\n    {{/each}}\n    </tr>\n  {{/each}}\n    </tbody>\n  </table>\n{{/include}}"
      },
      "choose-item.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_js \"resource/node/dev-tools.js\" \"db/_libs/cash.js\" \"db/_libs/ui.js\" \"db/_libs/components.js\"}}\n  {{include_css \"db/_libs/ui.css\"}}\n\n  <title>choose item</title>\n</head>\n\n<body>\n  {{trace \"this\"}}\n  <h1>\n    {{_.title}}\n  </h1>\n\n<input type=\"text\" class=\"act-search\" data-table=\"#st{{S.RENDER_COUNT}}\">\n\n{{#include \".\" \"d-list-items-table\"}}\n  <table class=\"ui-sorted-table\" data-group_by=\"{{config.group_by}}\" data-sort_by=\"{{config.sort_by}}\" id=\"st{{../S.RENDER_COUNT}}\">\n    <thead>\n      <tr>\n        <th>name</th>\n        <th>note</th>\n  {{#each columns}}\n        <th data-group_ref=\"{{_.group_ref}}\">\n          {{_.title}} [<a href=\"#\" class=\"act-sort\">s</a><a href=\"#\" class=\"act-group\">g</a>]\n        </th>\n  {{/each}}\n      </tr>\n    </thead>\n    <tbody>\n  {{#each rows}}\n    <tr>\n      <td class=\"ui-sel-item\" data-group_ref=\"{{group_ref}}\" data-item_ref=\"{{item_ref}}\">\n        <a href=\"{{req_path path}}\">{{title}}</a>\n      </td>\n      <td>\n        {{note}}\n      </td>\n    {{#each fields}}\n      <td data-group_ref=\"{{group_ref}}\">\n      {{#each values}}\n        <span data-item_ref=\"{{item_ref}}\">{{title}}</span>\n      {{/each}}\n      </td>\n    {{/each}}\n    </tr>\n  {{/each}}\n    </tbody>\n  </table>\n{{/include}}\n\n  <form method=\"post\" action=\"{{res_path \".\" \"{:name}\"}}\">\n    <input name=\"title\" value=\"\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":name|newUUID\" value=\"\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/item\">\n    <button type=\"submit\">add</button>\n  </form>\n\n</body>\n</html>\n"
      },
      "t-ref-items-table.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "<input type=\"text\" class=\"act-search\" data-table=\"#st{{S.RENDER_COUNT}}\">\n\n{{set_Q \"item_ref\" R.NAME}}\n{{trace this}}\n{{#include \".\" \"d-list-items-table\"}}\n  <table class=\"ui-sorted-table\" data-group_by=\"{{config.group_by}}\" data-sort_by=\"{{config.sort_by}}\" data-base_url=\"{{req_path ../R.PARENT_DIRNAME}}\" id=\"st{{../S.RENDER_COUNT}}\">\n    <thead>\n      <tr>\n        <th>name</th>\n        <th>note</th>\n  {{#each columns}}{{#match _.group_ref \"!=\" ../../R.PARENT_NAME}}\n        <th data-group_ref=\"{{_.group_ref}}\">\n          {{_.title}} [<a href=\"#\" class=\"act-sort\">s</a><a href=\"#\" class=\"act-group\">g</a>]\n        </th>\n  {{/match}}{{/each}}\n      </tr>\n    </thead>\n    <tbody>\n  {{#each rows}}\n    <tr>\n      <td data-group_ref=\"{{group_ref}}\" data-item_ref=\"{{item_ref}}\" data-item_style=\"{{color}}\">\n        <a href=\"{{req_path path}}\">{{title}}</a>\n        <a href=\"{{req_path path \"/\" field_name \"res-delete\"}}\">X</a>\n      </td>\n      <td>\n        {{note}}\n      </td>\n    {{#each fields}}{{#match group_ref \"!=\" ../../../R.PARENT_NAME}}\n      <td data-group_ref=\"{{group_ref}}\">\n      {{#each values}}\n        <span class=\"ui-nav-item\" data-item_ref=\"{{item_ref}}\">{{title}}</span>\n      {{/each}}\n      </td>\n    {{/match}}{{/each}}\n    </tr>\n  {{/each}}\n    </tbody>\n  </table>\n{{/include}}"
      }
    },
    "item": {
      "default.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_js \"resource/node/dev-tools.js\" \"db/_libs/cash.js\" \"db/_libs/ui.js\" \"db/_libs/components.js\"}}\n  {{include_css \"db/_libs/ui.css\"}}\n\n  <title>group</title>\n</head>\n\n<body>\n{{trace \"A:\" this._}}\n{{#include \".\" \"d-properties\"}}\n\n  <h1>{{title}} (<a href=\"{{req_path group_path}}\">{{group_title}}</a>)</h1>\n  <div class=\"fields\">\n    <form method=\"post\" action=\"{{res_path \".\"}}\">\n      <input name=\"title\" value=\"{{title}}\" autocomplete=\"off\" placeholder=\"title\">\n      <input name=\"color\" type=\"color\" value=\"{{color}}\">\n      <button name=\"color\" value=\"\" type=\"submit\">clear</button>\n      <br>\n      <textarea class=\"ui-text-field\" name=\"note\" autocomplete=\"off\" placeholder=\"note\">{{note}}</textarea>\n      <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n      <button type=\"submit\">save</button>\n    </form>\n  \n    {{#include \".\" \"d-list-fields\"}}\n    <div class=\"field\">\n      {{include path}}\n    </div>\n    {{/include}}\n  </div>\n  <div class=\"references\">\n    {{#include \".\" \"d-list-ref-groups\"}}\n    <h3><a href=\"{{req_path path}}\">{{title}}</a></h3>\n    {{include path \"t-ref-items-table\"}}\n\n    <form method=\"post\" action=\"{{res_path path \"{:item_ref}\" config_field_ref}}\">\n      <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n      <input type=\"hidden\" name=\"_rt\" value=\"{{field_type}}\">\n      <input type=\"hidden\" name=\"field_ref\" value=\"{{field_ref}}\">\n      <input type=\"hidden\" name=\"group_ref\" value=\"{{group_ref}}\">\n      <input type=\"hidden\" name=\"{{field_ref}}/group_ref\" value=\"{{group_ref}}\">\n\n      <button class=\"act-popup\" data-path=\"{{req_path path \"choose-item\"}}?not_item_ref={{R.NAME}}\" name=\":item_ref\" type=\"button\">add</button>\n    </form>\n    {{/include}}\n  </div>\n\n  <h3>Notes</h3>\n  <div class=\"notes\">\n    <form method=\"post\" action=\"{{res_path \".\" \"notes/{:name}\"}}\">\n      <input type=\"hidden\" name=\"_rt\" value=\"{:note_type}\">\n      <input type=\"hidden\" name=\":name|newUUID\" value=\"\">\n      <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n\n      <button name=\":note_type\" value=\"db/note/text\" type=\"submit\">add text</button>\n      <button name=\":note_type\" value=\"db/note/url\" type=\"submit\">add url</button>\n    </form>\n\n    {{#include \".\" \"d-list-notes\"}}\n    <div class=\"note\">\n      {{include path}}\n    </div>\n    {{/include}}\n  </div>\n\n{{/include}}\n</body>\n</html>\n"
      },
      "d-list-fields.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = res['path'];\n  let rv = await ctx.listResources('../config');\n  \n  writer.write(rv);\n  writer.end();\n});"
      },
      "d-properties.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let item_path = ctx.getCurrentRequestPath();\n  let group_path = Utils.filename_dir(item_path);\n  let item_res = res;\n  let group_res = await ctx.resolveResource(group_path); \n  \n  group_res['title'] = res._['title'];\n  group_res['note'] = res._['note'];\n  group_res['color'] = res._['color'];\n  group_res['group_title'] = group_res._['title'];\n  group_res['group_path'] = group_path;\n\n  writer.write(group_res);\n  writer.end();\n});"
      },
      "info.hbs": {
        "_ct": "text/plain",
        "_pt": "resource/content",
        "_content": "{{_.title}}"
      },
      "d-list-ref-groups.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let group_path = Utils.filename_dir(ctx.getCurrentResourcePath());\n  let path = res['path'];\n  let rv = [];\n  let ref = Utils.filename(group_path);\n  let paths = await findx(ctx, '/content/db', ref);\n\n  for (let i = 0; i < paths.length; i++) {\n    let z = paths[i].indexOf(\"/config/db_field_ref\");\n    let gpath = '/content/db'+paths[i].substr(0, z);\n    let gres = await ctx.resolveResource(gpath);\n\n    let a = path.split('/');\n    gres['path'] = gpath;\n    gres['field_ref'] = a.pop();\n    gres['group_ref'] = a.pop();\n\n    if (path.indexOf('/db_field_ref_')) gres['field_type'] = 'db/field/ref'; \n    else                                gres['field_type'] = 'db/field/refs';\n\n    let b = paths[i].split('/');\n    b.pop();\n    gres['config_field_ref'] = b.pop();\n\n    gres['title'] = gres._['title'];\n    rv.push(gres);\n  }\n\n\n  writer.write(rv);\n  writer.end();\n});\n\nasync function findx(ctx, path, ref) {\n  let list = await ctx.listAllResourceNames(path, function(path) {\n    if (path.indexOf('/config/db_field_ref_') > 0 || path.indexOf('/config/db_field_refs_') > 0) {\n      let name = Utils.filename(path);\n      if (name == ref) {\n        return 1;\n      }\n      else {\n        return 0;\n      }\n    }    \n    else if (path.indexOf('/db_group_') == 0) {\n      return 0;\n    }\n    else {\n      return -1;\n    }\n  });\n  return list?list:[];\n}"
      },
      "d-list-notes.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = res['path'];\n  let rv = await ctx.listResources('./notes');\n  \n  writer.write(rv);\n  writer.end();\n});"
      }
    },
    "default.hbs": {
      "_ct": "text/plain",
      "_pt": "resource/content",
      "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  {{include_js \"resource/node/dev-tools.js\" \"db/_libs/cash.js\" \"db/_libs/ui.js\" \"db/_libs/components.js\"}}\n  {{include_css \"db/_libs/ui.css\"}}\n\n  <title>groups</title>\n</head>\n\n<body>\n  <h1>Groups</h1>\n\n{{#include \".\" \"d-list-groups\"}}\n  <div>\n    <a href=\"{{req_path path}}\"> {{_.title}}</a> \n          <a href=\"{{req_path path \"res-delete\"}}\">d</a>\n          <a href=\"{{req_path path \"config\"}}\">c</a>         \n  </div>\n{{/include}}\n\n  <form method=\"post\" action=\"{{res_path \".\" \"{:name}\"}}\">\n    <input name=\"title\" value=\"\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":name|newUUID\" value=\"\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/group\">\n    <button type=\"submit\">add</button>\n  </form>\n\n</body>\n</html>\n"
    },
    "field": {
      "text": {
        "config.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <title>groups</title>\n</head>\n\n<body>\n  <h1><a href=\"{{req_path \"../../\"}}\">.</a> {{_.title}}</h1>\n  \n  <form method=\"post\" action=\"{{res_path \".\"}}\">\n    <input name=\"title\" value=\"{{_.title}}\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n\n    <button type=\"submit\">save</button>\n  </form>\n\n</body>\n</html>\n"
        },
        "d-field-value.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let item_path = ctx.getCurrentRequestPath();\n  let field_name = Utils.filename(ctx.getCurrentResourcePath());\n  let field_path = item_path+'/'+field_name;\n  let field_res = await ctx.resolveResource(field_path);\n\n  if (!field_res) field_res = {};\n\n  field_res['field_path'] = field_path;\n  \n  writer.write(field_res);\n  writer.end();\n});"
        },
        "default.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<h3>{{_.title}}</h3>\n{{#include \".\" \"d-field-value\"}}\n  <form method=\"post\" action=\"{{res_path field_path}}\">\n    <input name=\"value\" value=\"{{_.value}}\" autocomplete=\"off\" placeholder=\"value\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/field/text\">\n    <button type=\"submit\">save</button>\n  </form>\n{{/include}}\n"
        }
      },
      "ref": {
        "config.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <title>groups</title>\n</head>\n\n<body>\n  <h1><a href=\"{{req_path \"../../\"}}\">.</a> {{_.title}}</h1>\n  \n  <form method=\"post\" action=\"{{res_path \".\"}}\">\n    <input name=\"title\" value=\"{{_.title}}\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/field/ref\">\n    <input type=\"hidden\" name=\":reset\" value=\"{{res_path \".\"}}\">\n    <input type=\"hidden\" name=\"group_ref\" value=\"{:group_name}\">\n    <input type=\"hidden\" name=\"{:group_name}/active\" value=\"true\">\n\n    <select name=\":group_name\">\n{{#include \"/content/db\" \"d-list-groups\"}}\n      <option value=\"{{name}}\" {{eq ../_.group_ref name \"selected\"}}>\n       {{_.title}}\n      </option>\n{{/include}}\n    </select>\n\n    <button type=\"submit\">save</button>\n  </form>\n\n</body>\n</html>\n"
        },
        "d-list-values.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = res['path'];\n  let group_ref = res._['group_ref'];\n  let names = await ctx.listResourceNames(path);\n  let rv = [];\n\n  for (let i = 0; i < names.length; i++) {\n    let it = names[i];\n    let rpath = '/content/db/' + group_ref + '/' + it;\n    let rres = await ctx.resolveResource(rpath);\n    if (rres) {\n      rres['title'] = rres._['title'];\n      rres['path'] = rpath;\n      rres['value_path'] = path + '/' + it;\n      rv.push(rres);\n    }\n  }\n\n  writer.write(rv);\n  writer.end();\n});"
        },
        "d-properties.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let item_path = ctx.getCurrentRequestPath();\n  let field_name = Utils.filename(ctx.getCurrentResourcePath());\n  let config_path = ctx.getCurrentResourcePath();\n  let field_path = item_path+'/'+field_name;\n  let field_res = await ctx.resolveResource(field_path);\n  let config_res = await ctx.resolveResource(config_path); \n\n  if (!field_res) field_res = {};\n  if (config_res) {\n    field_res['group_path'] = '/content/db/' + config_res._['group_ref'];\n    field_res['group_title'] = config_res._['title'];\n    field_res['group_ref'] = config_res._['group_ref'];\n  }\n\n  field_res['field_path'] = field_path;\n  \n  writer.write(field_res);\n  writer.end();\n});"
        },
        "default.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "{{trace \"F:\" _}}\n{{#include \".\" \"d-properties\"}}\n  <h3><a href=\"{{req_path group_path}}\">{{group_title}}</a></h3>\n  {{#include field_path \"d-list-values\"}}\n    <div class=\"value\">\n      <a href=\"{{req_path path}}\">{{title}}</a>\n      <a href=\"{{req_path value_path \"res-delete\"}}\" class=\"but\">X</a>         \n    </div>\n  {{/include}}\n\n  <form method=\"post\" action=\"{{req_path field_path}}\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\":reset\" value=\"{{res_path field_path}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/field/ref\">\n    <input type=\"hidden\" name=\"group_ref\" value=\"{{group_ref}}\">\n    <input type=\"hidden\" name=\"field_ref\" value=\"{:name}\">\n    <input type=\"hidden\" name=\"{:name}/group_ref\" value=\"{{group_ref}}\">\n    <button class=\"act-popup\" name=\":name\" data-path=\"{{req_path group_path \"choose-item\"}}\" type=\"button\">set</button>\n  </form>\n{{/include}}\n"
        }
      },
      "refs": {
        "config.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <title>groups</title>\n</head>\n\n<body>\n  <h1><a href=\"{{req_path \"../../\"}}\">.</a> {{_.title}}</h1>\n  \n  <form method=\"post\" action=\"{{res_path \".\"}}\">\n    <input name=\"title\" value=\"{{_.title}}\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/field/refs\">\n    <input type=\"hidden\" name=\":reset\" value=\"{{res_path \".\"}}\">\n    <input type=\"hidden\" name=\"group_ref\" value=\"{:group_name}\">\n    <input type=\"hidden\" name=\"{:group_name}/active\" value=\"true\">\n\n    <select name=\":group_name\">\n{{#include \"/content/db\" \"d-list-groups\"}}\n      <option value=\"{{name}}\" {{eq ../_.group_ref name \"selected\"}}>\n       {{_.title}}\n      </option>\n{{/include}}\n    </select>\n\n    <button type=\"submit\">save</button>\n  </form>\n\n</body>\n</html>\n"
        },
        "d-list-values.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = res['path'];\n  let group_ref = res._['group_ref'];\n  let names = await ctx.listResourceNames(path);\n  let rv = [];\n\n  for (let i = 0; i < names.length; i++) {\n    let it = names[i];\n    let rpath = '/content/db/' + group_ref + '/' + it;\n    let rres = await ctx.resolveResource(rpath);\n    if (rres) {\n      rres['title'] = rres._['title'];\n      rres['path'] = rpath;\n      rres['value_path'] = path + '/' + it;\n      rv.push(rres);\n    }\n  }\n\n  writer.write(rv);\n  writer.end();\n});"
        },
        "d-properties.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let item_path = ctx.getCurrentRequestPath();\n  let field_name = Utils.filename(ctx.getCurrentResourcePath());\n  let config_path = ctx.getCurrentResourcePath();\n  let field_path = item_path+'/'+field_name;\n  let field_res = await ctx.resolveResource(field_path);\n  let config_res = await ctx.resolveResource(config_path); \n\n  if (!field_res) field_res = {};\n  if (config_res) {\n    field_res['group_path'] = '/content/db/' + config_res._['group_ref'];\n    field_res['group_title'] = config_res._['title'];\n    field_res['group_ref'] = config_res._['group_ref'];\n  }\n\n  field_res['field_path'] = field_path;\n  \n  writer.write(field_res);\n  writer.end();\n});"
        },
        "default.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "{{trace \"F:\" _}}\n{{#include \".\" \"d-properties\"}}\n  <h3><a href=\"{{req_path group_path}}\">{{group_title}}</a></h3>\n\n  {{#include field_path \"d-list-values\"}}\n    <div class=\"value\">\n      <a href=\"{{req_path path}}\">{{title}}</a>\n      <a href=\"{{req_path value_path \"res-delete\"}}\" class=\"but\">X</a>         \n    </div>\n  {{/include}}\n\n  <form method=\"post\" action=\"{{req_path field_path}}\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/field/refs\">\n    <input type=\"hidden\" name=\"group_ref\" value=\"{{group_ref}}\">\n    <input type=\"hidden\" name=\"{:name}/group_ref\" value=\"{{group_ref}}\">\n    <button class=\"act-popup\" name=\":name\" data-path=\"{{req_path group_path \"choose-item\"}}\" type=\"button\">add</button>\n  </form>\n{{/include}}\n"
        }
      },
      "bool": {
        "config.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <title>groups</title>\n</head>\n\n<body>\n  <h1><a href=\"{{req_path \"../../\"}}\">.</a> {{_.title}}</h1>\n  \n  <form method=\"post\" action=\"{{res_path \".\"}}\">\n    <input name=\"title\" value=\"{{_.title}}\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n\n    <button type=\"submit\">save</button>\n  </form>\n\n</body>\n</html>\n"
        },
        "d-field-value.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let item_path = ctx.getCurrentRequestPath();\n  let field_name = Utils.filename(ctx.getCurrentResourcePath());\n  let field_path = item_path+'/'+field_name;\n  let field_res = await ctx.resolveResource(field_path);\n\n  if (!field_res) field_res = {};\n\n  field_res['field_path'] = field_path;\n  \n  writer.write(field_res);\n  writer.end();\n});"
        },
        "default.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "{{_.title}}\n{{#include \".\" \"d-field-value\"}}\n  <form method=\"post\" action=\"{{res_path field_path}}\">\n    <input type=\"checkbox\" name=\"value\" value=\"true\" {{eq _.value \"true\" \"checked\"}}>\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/field/bool\">\n    <button type=\"submit\">save</button>\n  </form>\n{{/include}}\n"
        }
      },
      "date": {
        "config.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n  <meta charset=\"utf-8\">\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n  <link rel=\"icon\" href=\"data:;base64,iVBORw0KGgo=\">\n\n  <title>date</title>\n</head>\n\n<body>\n  <h1><a href=\"{{req_path \"../../\"}}\">.</a> {{_.title}}</h1>\n  \n  <form method=\"post\" action=\"{{res_path \".\"}}\">\n    <input name=\"title\" value=\"{{_.title}}\" autocomplete=\"off\" placeholder=\"title\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n\n    <select name=\"field_type\">\n      <option value=\"datetime-local\" {{eq _.field_type \"datetime-local\" \"selected\"}}>date and time</option>\n      <option value=\"date\" {{eq _.field_type \"date\" \"selected\"}}>date</option>\n      <option value=\"time\" {{eq _.field_type \"time\" \"selected\"}}>time</option>\n    </select>\n\n    <button type=\"submit\">save</button>\n  </form>\n\n</body>\n</html>\n"
        },
        "d-field-value.js": {
          "_ct": "text/javascript",
          "_pt": "resource/content",
          "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let item_path = ctx.getCurrentRequestPath();\n  let field_name = Utils.filename(ctx.getCurrentResourcePath());\n  let field_path = item_path+'/'+field_name;\n  let field_res = await ctx.resolveResource(field_path);\n\n  if (!field_res) field_res = {};\n\n  field_res['field_path'] = field_path;\n  \n  writer.write(field_res);\n  writer.end();\n});"
        },
        "default.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<h3>{{_.title}}</h3>\n{{#include \".\" \"d-field-value\"}}\n  <form method=\"post\" action=\"{{res_path field_path}}\">\n    <input type=\"{{../_.field_type}}\" name=\"value\" value=\"{{_.value}}\" autocomplete=\"off\" placeholder=\"value\">\n    <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n    <input type=\"hidden\" name=\"_rt\" value=\"db/field/text\">\n    <button type=\"submit\">save</button>\n    <button type=\"submit\" name=\"value\" value=\"\">clear</button>\n  </form>\n{{/include}}\n"
        }
      }
    },
    "value": {},
    "d-list-groups.js": {
      "_ct": "text/javascript",
      "_pt": "resource/content",
      "_content": "(async function (res, writer, ctx) {\n  writer.start('object/javascript');\n\n  let path = res['path'];\n  let rv = await ctx.listResources(path);\n  \n  writer.write(rv);\n  writer.end();\n});"
    },
    "_libs": {
      "components.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "SortedTable = {\n  filterTable:function(item_ref) {\n    let $table = $(this);\n    if (item_ref) {\n      let $tr = $table.find(`[data-item_ref=${item_ref}]`).parents('tr');\n      $table.find('tr').hide();\n      $tr.show();\n    }\n    else {\n      $table.find('tr').show();\n    }\n  },\n\n  searchTable:function(text) {\n    let $table = $(this);\n    if (text) {\n      $table.find('tbody tr').each(function(n, tr) {\n        let $tr = $(tr);\n        let line = $tr.text();\n        if (line.indexOf(text) > 0) {\n          $tr.show();\n        }\n        else {\n          $tr.hide();\n        }\n      });\n    }\n    else {\n      $table.find('tr').show();\n    }\n  },\n\n  groupTable:function(group_ref) {\n    let $table = $(this);\n    $table.find('td,th').show();\n\n    if (group_ref) {\n      let rows = [];\n      let groups = [];\n\n      $table.find(`tbody td[data-group_ref=${group_ref}]`).each(function(n, it) {\n        let tr = it.parentElement;\n        tr.title = it.innerText;\n        if (tr.title == '') tr.title = 'Untitled';\n\n        rows.push(tr);\n      });\n\n      rows.sort(function(a, b) {\n        return a.title.localeCompare(b.title);\n      });\n\n      let last = null;\n      rows.forEach(function(it) {\n        if (it.title != last) {\n          let el = document.createElement('tr');\n          el.classList.add('group-heading');\n          el.innerHTML = '<td>'+it.title+'</td>';\n          groups.push(el);\n        }\n        groups.push(it);\n        last = it.title;\n      });\n\n      $table.find(`td[data-group_ref=${group_ref}]`).hide();\n      $table.find(`th[data-group_ref=${group_ref}]`).hide();\n      $table.find('tbody').empty().append(groups);\n    }\n    else {\n    }\n  },\n\n  sortTable:function(group_ref) {\n    let $table = $(this);\n    if (group_ref) {\n      let rows = [];\n\n      $table.find(`tbody td[data-group_ref=${group_ref}]`).each(function(n, it) {\n        let tr = it.parentElement;\n        tr.title = it.innerText;\n        rows.push(tr);\n      });\n\n      rows.sort(function(a, b) {\n        return a.title.localeCompare(b.title);\n      });\n\n      $table.find('tbody').empty().append(rows);\n    }\n    else {\n    }\n  },\n\n  init:function() {\n    let ls = document.getElementsByClassName(\"ui-sorted-table\");\n    for (let i = 0; i < ls.length; i++) {\n      let it = ls[i];\n      for (let k in SortedTable) {\n        it[k] = SortedTable[k];\n        let group_by = it.dataset['group_by'];\n        if (group_by) {\n          it.groupTable(group_by);\n        }\n      }\n    }\n  }\n};\n\nTextField = {\n  autoSizeTextarea:function(el) {\n    el.style.height = 'auto';\n    el.style.height = el.scrollHeight+'px';\n  },\n\n  init:function() {\n    let ls = document.getElementsByClassName(\"ui-text-field\");\n    for (let i = 0; i < ls.length; i++) {\n      let el = ls[i];\n      TextField.autoSizeTextarea(el);\n      el.addEventListener('input', function(evt) {\n        TextField.autoSizeTextarea(el);\n      });\n    }\n  }\n};\n\nHighlighter = {\n  makeFG:function(bgColor, lightColor, darkColor) {\n    let color = (bgColor.charAt(0) === '#') ? bgColor.substring(1, 7) : bgColor;\n    let r = parseInt(color.substring(0, 2), 16); // hexToR\n    let g = parseInt(color.substring(2, 4), 16); // hexToG\n    let b = parseInt(color.substring(4, 6), 16); // hexToB\n    let uicolors = [r / 255, g / 255, b / 255];\n    let c = uicolors.map((col) => {\n      if (col <= 0.03928) {\n        return col / 12.92;\n      }\n      return Math.pow((col + 0.055) / 1.055, 2.4);\n    });\n    let L = (0.2126 * c[0]) + (0.7152 * c[1]) + (0.0722 * c[2]);\n    return (L > 0.179) ? darkColor : lightColor;\n  },\n\n  init:function() {\n    $('[data-item_style]').each(function(n, it) {\n       if (it.dataset['item_style']) {\n         let color = it.dataset.item_style;\n         let fg = Highlighter.makeFG(color, '#FFFFFF', '#000000');\n         it.style.backgroundColor = color;\n         it.style.color = fg;\n       }\n    });\n  }\n};"
      },
      "ui.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "function popupPath(path_ref, cb) {\n  let el = document.querySelector('#popup');\n  if (!el) {\n    el = document.createElement('iframe');\n    el.id = 'popup';\n    document.body.append(el);\n  }\n  el.src = path_ref;\n  el.callback = cb;\n  $(document.body).addClass('ui-popup-background');\n  $(el).show();\n}\n\n$(function () {\n  window.addEventListener('message', function(evt) {\n    let el = $('[src=\"'+evt.source.location.toString()+'\"]').get(0);\n    if (el && el['callback']) {\n      setTimeout(function() {\n        el.callback(evt.data);\n      },0);\n    }\n  });\n\n  $(document).on('click', '.ui-sel-item', function(evt) {\n    let item_ref = $(evt.target).parents('[data-item_ref]').data('item_ref');\n    if (item_ref) {\n      window.top.postMessage(item_ref, window.location);\n      evt.preventDefault();\n    }\n  });\n\n  $(document).on('click', '.ui-nav-item', function(evt) {\n    let base_url = $(evt.target).parents('[data-base_url]').data('base_url');\n    let group_ref = $(evt.target).parents('[data-group_ref]').data('group_ref');\n    let item_ref = $(evt.target).data('item_ref');\n\n    if (base_url && group_ref && item_ref) {\n      let url = base_url + '/' + group_ref + '/' + item_ref;\n      window.location.assign(url);\n    }\n  });\n\n  $(document).on('click', '.ui-popup-background', function(evt) {\n    $('#popup').hide();\n    $(document.body).removeClass('ui-popup-background');\n    evt.preventDefault();\n  });\n\n  $(document).on('keypress', '.act-search', function(evt) {\n    if (evt.key === 'Enter' || evt.keyCode === 13) {\n      let $el = $(evt.target);\n      let table = document.querySelector($el.data('table'));\n      if (table) {\n        let text = $el.val(); \n        table.searchTable(text);\n      }\n      evt.preventDefault();\n    }\n  });\n\n  $(document).on('click', '.act-popup', function(evt) {\n    let $el = $(evt.target);\n    let path = $(evt.target).data('path');\n    let name = $(evt.target).attr('name');\n    let $form = $(evt.target).parents('form');\n\n    popupPath(path, function(item) {\n      Utils.flushResourceCache();\n\n      $el.val(item);\n      $form.trigger('submit');\n    });\n    evt.preventDefault();\n  });\n\n  $(document).on('click', '.act-sort', function(evt) {\n    let group_ref = $(evt.target).parent().data('group_ref');\n    let table = $(evt.target).parents('table').get(0);\n    if (table && group_ref) {\n      table.sortTable(group_ref);\n    }\n    evt.preventDefault();\n  });\n\n  $(document).on('click', '.act-group', function(evt) {\n    let group_ref = $(evt.target).parent().data('group_ref');\n    let table = $(evt.target).parents('table').get(0);\n    if (table && group_ref) {\n      table.groupTable(group_ref);\n    }\n    evt.preventDefault();\n  });\n\n  SortedTable.init();\n  TextField.init();\n  Highlighter.init();\n});"
      },
      "ui.css": {
        "_ct": "text/css",
        "_pt": "resource/content",
        "_content": "table {\n  border: 1px solid gray;\n  width: 100%;\n}\n\n.group-heading {\n  padding-top: 5px;\n  padding-bottom: 5px;\n  font-size: large;\n}\n\n#popup {\n  background-color: white;\n  position: fixed;\n  top: 0;\n  right: 0;\n  height: 100%;\n  width: 80%;\n  border: 10px solid black;\n  box-sizing: border-box;\n}\n\n.ui-popup-background {\n}\n\n.ui-nav-item {\n  cursor: pointer;\n}\n\n.ui-text-field {\n  width: 100%;\n}\n\n.field .value {\n  display: inline-block;\n  border: 1px solid lightgray;\n}\n\n.field a {\n  text-decoration: none;\n  color: black;\n}\n\n.references a {\n  text-decoration: none;\n  color: black;\n}\n\n.field .value a.but {\n  background-color: lightgray;\n}\n\n.field form {\n  display: inline-block;\n}\n\nform.ui-inline {\n  display: inline-block;\n}\n\n.group-heading {\n font-weight: bold;\n}\n\n.ui-sorted-table [data-item_style] a {\n  color: inherit;\n}\n\n.field h3 {\n  margin-top: 4px;\n  margin-bottom: 4px;\n  font-size: 13px;\n}\n\ninput[type=color] {\n  border: 1px solid black;\n  height: 22px;\n}\n\ninput {\n  border: 1px solid black;\n  height: 18px;\n}\n\nbutton {\n  border: 1px solid black;\n  background-color: lightgray;\n  height: 22px;\n}\n\nbody {\n  font-family: system-ui;\n  font-size: 13px;\n}"
      },
      "cash.js": {
        "_ct": "text/javascript",
        "_pt": "resource/content",
        "_content": "(function(){\"use strict\";var C=document,M=window,st=C.documentElement,L=C.createElement.bind(C),ft=L(\"div\"),q=L(\"table\"),Mt=L(\"tbody\"),ot=L(\"tr\"),H=Array.isArray,S=Array.prototype,Bt=S.concat,U=S.filter,at=S.indexOf,ct=S.map,Dt=S.push,ht=S.slice,z=S.some,_t=S.splice,Pt=/^#(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,Ht=/^\\.(?:[\\w-]|\\\\.|[^\\x00-\\xa0])*$/,It=/<.+>/,$t=/^\\w+$/;function J(t,n){var r=jt(n);return!t||!r&&!D(n)&&!c(n)?[]:!r&&Ht.test(t)?n.getElementsByClassName(t.slice(1).replace(/\\\\/g,\"\")):!r&&$t.test(t)?n.getElementsByTagName(t):n.querySelectorAll(t)}var dt=function(){function t(n,r){if(!!n){if(Y(n))return n;var i=n;if(g(n)){var u=(Y(r)?r[0]:r)||C;if(i=Pt.test(n)&&\"getElementById\"in u?u.getElementById(n.slice(1).replace(/\\\\/g,\"\")):It.test(n)?yt(n):J(n,u),!i)return}else if(A(n))return this.ready(n);(i.nodeType||i===M)&&(i=[i]),this.length=i.length;for(var s=0,f=this.length;s<f;s++)this[s]=i[s]}}return t.prototype.init=function(n,r){return new t(n,r)},t}(),e=dt.prototype,o=e.init;o.fn=o.prototype=e,e.length=0,e.splice=_t,typeof Symbol==\"function\"&&(e[Symbol.iterator]=S[Symbol.iterator]);function Y(t){return t instanceof dt}function B(t){return!!t&&t===t.window}function D(t){return!!t&&t.nodeType===9}function jt(t){return!!t&&t.nodeType===11}function c(t){return!!t&&t.nodeType===1}function Ft(t){return!!t&&t.nodeType===3}function Wt(t){return typeof t==\"boolean\"}function A(t){return typeof t==\"function\"}function g(t){return typeof t==\"string\"}function v(t){return t===void 0}function P(t){return t===null}function lt(t){return!isNaN(parseFloat(t))&&isFinite(t)}function G(t){if(typeof t!=\"object\"||t===null)return!1;var n=Object.getPrototypeOf(t);return n===null||n===Object.prototype}o.isWindow=B,o.isFunction=A,o.isArray=H,o.isNumeric=lt,o.isPlainObject=G;function d(t,n,r){if(r){for(var i=t.length;i--;)if(n.call(t[i],i,t[i])===!1)return t}else if(G(t))for(var u=Object.keys(t),i=0,s=u.length;i<s;i++){var f=u[i];if(n.call(t[f],f,t[f])===!1)return t}else for(var i=0,s=t.length;i<s;i++)if(n.call(t[i],i,t[i])===!1)return t;return t}o.each=d,e.each=function(t){return d(this,t)},e.empty=function(){return this.each(function(t,n){for(;n.firstChild;)n.removeChild(n.firstChild)})};function I(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Wt(t[0])?t.shift():!1,i=t.shift(),u=t.length;if(!i)return{};if(!u)return I(r,o,i);for(var s=0;s<u;s++){var f=t[s];for(var a in f)r&&(H(f[a])||G(f[a]))?((!i[a]||i[a].constructor!==f[a].constructor)&&(i[a]=new f[a].constructor),I(r,i[a],f[a])):i[a]=f[a]}return i}o.extend=I,e.extend=function(t){return I(e,t)};var qt=/\\S+/g;function $(t){return g(t)?t.match(qt)||[]:[]}e.toggleClass=function(t,n){var r=$(t),i=!v(n);return this.each(function(u,s){!c(s)||d(r,function(f,a){i?n?s.classList.add(a):s.classList.remove(a):s.classList.toggle(a)})})},e.addClass=function(t){return this.toggleClass(t,!0)},e.removeAttr=function(t){var n=$(t);return this.each(function(r,i){!c(i)||d(n,function(u,s){i.removeAttribute(s)})})};function Ut(t,n){if(!!t){if(g(t)){if(arguments.length<2){if(!this[0]||!c(this[0]))return;var r=this[0].getAttribute(t);return P(r)?void 0:r}return v(n)?this:P(n)?this.removeAttr(t):this.each(function(u,s){!c(s)||s.setAttribute(t,n)})}for(var i in t)this.attr(i,t[i]);return this}}e.attr=Ut,e.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr(\"class\",\"\")},e.hasClass=function(t){return!!t&&z.call(this,function(n){return c(n)&&n.classList.contains(t)})},e.get=function(t){return v(t)?ht.call(this):(t=Number(t),this[t<0?t+this.length:t])},e.eq=function(t){return o(this.get(t))},e.first=function(){return this.eq(0)},e.last=function(){return this.eq(-1)};function zt(t){return v(t)?this.get().map(function(n){return c(n)||Ft(n)?n.textContent:\"\"}).join(\"\"):this.each(function(n,r){!c(r)||(r.textContent=t)})}e.text=zt;function T(t,n,r){if(!!c(t)){var i=M.getComputedStyle(t,null);return r?i.getPropertyValue(n)||void 0:i[n]||t.style[n]}}function E(t,n){return parseInt(T(t,n),10)||0}function gt(t,n){return E(t,\"border\".concat(n?\"Left\":\"Top\",\"Width\"))+E(t,\"padding\".concat(n?\"Left\":\"Top\"))+E(t,\"padding\".concat(n?\"Right\":\"Bottom\"))+E(t,\"border\".concat(n?\"Right\":\"Bottom\",\"Width\"))}var X={};function Jt(t){if(X[t])return X[t];var n=L(t);C.body.insertBefore(n,null);var r=T(n,\"display\");return C.body.removeChild(n),X[t]=r!==\"none\"?r:\"block\"}function vt(t){return T(t,\"display\")===\"none\"}function pt(t,n){var r=t&&(t.matches||t.webkitMatchesSelector||t.msMatchesSelector);return!!r&&!!n&&r.call(t,n)}function j(t){return g(t)?function(n,r){return pt(r,t)}:A(t)?t:Y(t)?function(n,r){return t.is(r)}:t?function(n,r){return r===t}:function(){return!1}}e.filter=function(t){var n=j(t);return o(U.call(this,function(r,i){return n.call(r,i,r)}))};function x(t,n){return n?t.filter(n):t}e.detach=function(t){return x(this,t).each(function(n,r){r.parentNode&&r.parentNode.removeChild(r)}),this};var Yt=/^\\s*<(\\w+)[^>]*>/,Gt=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,mt={\"*\":ft,tr:Mt,td:ot,th:ot,thead:q,tbody:q,tfoot:q};function yt(t){if(!g(t))return[];if(Gt.test(t))return[L(RegExp.$1)];var n=Yt.test(t)&&RegExp.$1,r=mt[n]||mt[\"*\"];return r.innerHTML=t,o(r.childNodes).detach().get()}o.parseHTML=yt,e.has=function(t){var n=g(t)?function(r,i){return J(t,i).length}:function(r,i){return i.contains(t)};return this.filter(n)},e.not=function(t){var n=j(t);return this.filter(function(r,i){return(!g(t)||c(i))&&!n.call(i,r,i)})};function R(t,n,r,i){for(var u=[],s=A(n),f=i&&j(i),a=0,y=t.length;a<y;a++)if(s){var h=n(t[a]);h.length&&Dt.apply(u,h)}else for(var p=t[a][n];p!=null&&!(i&&f(-1,p));)u.push(p),p=r?p[n]:null;return u}function bt(t){return t.multiple&&t.options?R(U.call(t.options,function(n){return n.selected&&!n.disabled&&!n.parentNode.disabled}),\"value\"):t.value||\"\"}function Xt(t){return arguments.length?this.each(function(n,r){var i=r.multiple&&r.options;if(i||Ot.test(r.type)){var u=H(t)?ct.call(t,String):P(t)?[]:[String(t)];i?d(r.options,function(s,f){f.selected=u.indexOf(f.value)>=0},!0):r.checked=u.indexOf(r.value)>=0}else r.value=v(t)||P(t)?\"\":t}):this[0]&&bt(this[0])}e.val=Xt,e.is=function(t){var n=j(t);return z.call(this,function(r,i){return n.call(r,i,r)})},o.guid=1;function w(t){return t.length>1?U.call(t,function(n,r,i){return at.call(i,n)===r}):t}o.unique=w,e.add=function(t,n){return o(w(this.get().concat(o(t,n).get())))},e.children=function(t){return x(o(w(R(this,function(n){return n.children}))),t)},e.parent=function(t){return x(o(w(R(this,\"parentNode\"))),t)},e.index=function(t){var n=t?o(t)[0]:this[0],r=t?this:o(n).parent().children();return at.call(r,n)},e.closest=function(t){var n=this.filter(t);if(n.length)return n;var r=this.parent();return r.length?r.closest(t):n},e.siblings=function(t){return x(o(w(R(this,function(n){return o(n).parent().children().not(n)}))),t)},e.find=function(t){return o(w(R(this,function(n){return J(t,n)})))};var Kt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,Qt=/^$|^module$|\\/(java|ecma)script/i,Vt=[\"type\",\"src\",\"nonce\",\"noModule\"];function Zt(t,n){var r=o(t);r.filter(\"script\").add(r.find(\"script\")).each(function(i,u){if(Qt.test(u.type)&&st.contains(u)){var s=L(\"script\");s.text=u.textContent.replace(Kt,\"\"),d(Vt,function(f,a){u[a]&&(s[a]=u[a])}),n.head.insertBefore(s,null),n.head.removeChild(s)}})}function kt(t,n,r,i,u){i?t.insertBefore(n,r?t.firstChild:null):t.nodeName===\"HTML\"?t.parentNode.replaceChild(n,t):t.parentNode.insertBefore(n,r?t:t.nextSibling),u&&Zt(n,t.ownerDocument)}function N(t,n,r,i,u,s,f,a){return d(t,function(y,h){d(o(h),function(p,O){d(o(n),function(b,W){var rt=r?O:W,it=r?W:O,m=r?p:b;kt(rt,m?it.cloneNode(!0):it,i,u,!m)},a)},f)},s),n}e.after=function(){return N(arguments,this,!1,!1,!1,!0,!0)},e.append=function(){return N(arguments,this,!1,!1,!0)};function tn(t){if(!arguments.length)return this[0]&&this[0].innerHTML;if(v(t))return this;var n=/<script[\\s>]/.test(t);return this.each(function(r,i){!c(i)||(n?o(i).empty().append(t):i.innerHTML=t)})}e.html=tn,e.appendTo=function(t){return N(arguments,this,!0,!1,!0)},e.wrapInner=function(t){return this.each(function(n,r){var i=o(r),u=i.contents();u.length?u.wrapAll(t):i.append(t)})},e.before=function(){return N(arguments,this,!1,!0)},e.wrapAll=function(t){for(var n=o(t),r=n[0];r.children.length;)r=r.firstElementChild;return this.first().before(n),this.appendTo(r)},e.wrap=function(t){return this.each(function(n,r){var i=o(t)[0];o(r).wrapAll(n?i.cloneNode(!0):i)})},e.insertAfter=function(t){return N(arguments,this,!0,!1,!1,!1,!1,!0)},e.insertBefore=function(t){return N(arguments,this,!0,!0)},e.prepend=function(){return N(arguments,this,!1,!0,!0,!0,!0)},e.prependTo=function(t){return N(arguments,this,!0,!0,!0,!1,!1,!0)},e.contents=function(){return o(w(R(this,function(t){return t.tagName===\"IFRAME\"?[t.contentDocument]:t.tagName===\"TEMPLATE\"?t.content.childNodes:t.childNodes})))},e.next=function(t,n,r){return x(o(w(R(this,\"nextElementSibling\",n,r))),t)},e.nextAll=function(t){return this.next(t,!0)},e.nextUntil=function(t,n){return this.next(n,!0,t)},e.parents=function(t,n){return x(o(w(R(this,\"parentElement\",!0,n))),t)},e.parentsUntil=function(t,n){return this.parents(n,t)},e.prev=function(t,n,r){return x(o(w(R(this,\"previousElementSibling\",n,r))),t)},e.prevAll=function(t){return this.prev(t,!0)},e.prevUntil=function(t,n){return this.prev(n,!0,t)},e.map=function(t){return o(Bt.apply([],ct.call(this,function(n,r){return t.call(n,r,n)})))},e.clone=function(){return this.map(function(t,n){return n.cloneNode(!0)})},e.offsetParent=function(){return this.map(function(t,n){for(var r=n.offsetParent;r&&T(r,\"position\")===\"static\";)r=r.offsetParent;return r||st})},e.slice=function(t,n){return o(ht.call(this,t,n))};var nn=/-([a-z])/g;function K(t){return t.replace(nn,function(n,r){return r.toUpperCase()})}e.ready=function(t){var n=function(){return setTimeout(t,0,o)};return C.readyState!==\"loading\"?n():C.addEventListener(\"DOMContentLoaded\",n),this},e.unwrap=function(){return this.parent().each(function(t,n){if(n.tagName!==\"BODY\"){var r=o(n);r.replaceWith(r.children())}}),this},e.offset=function(){var t=this[0];if(!!t){var n=t.getBoundingClientRect();return{top:n.top+M.pageYOffset,left:n.left+M.pageXOffset}}},e.position=function(){var t=this[0];if(!!t){var n=T(t,\"position\")===\"fixed\",r=n?t.getBoundingClientRect():this.offset();if(!n){for(var i=t.ownerDocument,u=t.offsetParent||i.documentElement;(u===i.body||u===i.documentElement)&&T(u,\"position\")===\"static\";)u=u.parentNode;if(u!==t&&c(u)){var s=o(u).offset();r.top-=s.top+E(u,\"borderTopWidth\"),r.left-=s.left+E(u,\"borderLeftWidth\")}}return{top:r.top-E(t,\"marginTop\"),left:r.left-E(t,\"marginLeft\")}}};var Et={class:\"className\",contenteditable:\"contentEditable\",for:\"htmlFor\",readonly:\"readOnly\",maxlength:\"maxLength\",tabindex:\"tabIndex\",colspan:\"colSpan\",rowspan:\"rowSpan\",usemap:\"useMap\"};e.prop=function(t,n){if(!!t){if(g(t))return t=Et[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each(function(i,u){u[t]=n});for(var r in t)this.prop(r,t[r]);return this}},e.removeProp=function(t){return this.each(function(n,r){delete r[Et[t]||t]})};var rn=/^--/;function Q(t){return rn.test(t)}var V={},en=ft.style,un=[\"webkit\",\"moz\",\"ms\"];function sn(t,n){if(n===void 0&&(n=Q(t)),n)return t;if(!V[t]){var r=K(t),i=\"\".concat(r[0].toUpperCase()).concat(r.slice(1)),u=\"\".concat(r,\" \").concat(un.join(\"\".concat(i,\" \"))).concat(i).split(\" \");d(u,function(s,f){if(f in en)return V[t]=f,!1})}return V[t]}var fn={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function wt(t,n,r){return r===void 0&&(r=Q(t)),!r&&!fn[t]&&lt(n)?\"\".concat(n,\"px\"):n}function on(t,n){if(g(t)){var r=Q(t);return t=sn(t,r),arguments.length<2?this[0]&&T(this[0],t,r):t?(n=wt(t,n,r),this.each(function(u,s){!c(s)||(r?s.style.setProperty(t,n):s.style[t]=n)})):this}for(var i in t)this.css(i,t[i]);return this}e.css=on;function Ct(t,n){try{return t(n)}catch{return n}}var an=/^\\s+|\\s+$/;function St(t,n){var r=t.dataset[n]||t.dataset[K(n)];return an.test(r)?r:Ct(JSON.parse,r)}function cn(t,n,r){r=Ct(JSON.stringify,r),t.dataset[K(n)]=r}function hn(t,n){if(!t){if(!this[0])return;var r={};for(var i in this[0].dataset)r[i]=St(this[0],i);return r}if(g(t))return arguments.length<2?this[0]&&St(this[0],t):v(n)?this:this.each(function(u,s){cn(s,t,n)});for(var i in t)this.data(i,t[i]);return this}e.data=hn;function Tt(t,n){var r=t.documentElement;return Math.max(t.body[\"scroll\".concat(n)],r[\"scroll\".concat(n)],t.body[\"offset\".concat(n)],r[\"offset\".concat(n)],r[\"client\".concat(n)])}d([!0,!1],function(t,n){d([\"Width\",\"Height\"],function(r,i){var u=\"\".concat(n?\"outer\":\"inner\").concat(i);e[u]=function(s){if(!!this[0])return B(this[0])?n?this[0][\"inner\".concat(i)]:this[0].document.documentElement[\"client\".concat(i)]:D(this[0])?Tt(this[0],i):this[0][\"\".concat(n?\"offset\":\"client\").concat(i)]+(s&&n?E(this[0],\"margin\".concat(r?\"Top\":\"Left\"))+E(this[0],\"margin\".concat(r?\"Bottom\":\"Right\")):0)}})}),d([\"Width\",\"Height\"],function(t,n){var r=n.toLowerCase();e[r]=function(i){if(!this[0])return v(i)?void 0:this;if(!arguments.length)return B(this[0])?this[0].document.documentElement[\"client\".concat(n)]:D(this[0])?Tt(this[0],n):this[0].getBoundingClientRect()[r]-gt(this[0],!t);var u=parseInt(i,10);return this.each(function(s,f){if(!!c(f)){var a=T(f,\"boxSizing\");f.style[r]=wt(r,u+(a===\"border-box\"?gt(f,!t):0))}})}});var Rt=\"___cd\";e.toggle=function(t){return this.each(function(n,r){if(!!c(r)){var i=v(t)?vt(r):t;i?(r.style.display=r[Rt]||\"\",vt(r)&&(r.style.display=Jt(r.tagName))):(r[Rt]=T(r,\"display\"),r.style.display=\"none\")}})},e.hide=function(){return this.toggle(!1)},e.show=function(){return this.toggle(!0)};var xt=\"___ce\",Z=\".\",k={focus:\"focusin\",blur:\"focusout\"},Nt={mouseenter:\"mouseover\",mouseleave:\"mouseout\"},dn=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function tt(t){return Nt[t]||k[t]||t}function nt(t){var n=t.split(Z);return[n[0],n.slice(1).sort()]}e.trigger=function(t,n){if(g(t)){var r=nt(t),i=r[0],u=r[1],s=tt(i);if(!s)return this;var f=dn.test(s)?\"MouseEvents\":\"HTMLEvents\";t=C.createEvent(f),t.initEvent(s,!0,!0),t.namespace=u.join(Z),t.___ot=i}t.___td=n;var a=t.___ot in k;return this.each(function(y,h){a&&A(h[t.___ot])&&(h[\"___i\".concat(t.type)]=!0,h[t.___ot](),h[\"___i\".concat(t.type)]=!1),h.dispatchEvent(t)})};function Lt(t){return t[xt]=t[xt]||{}}function ln(t,n,r,i,u){var s=Lt(t);s[n]=s[n]||[],s[n].push([r,i,u]),t.addEventListener(n,u)}function At(t,n){return!n||!z.call(n,function(r){return t.indexOf(r)<0})}function F(t,n,r,i,u){var s=Lt(t);if(n)s[n]&&(s[n]=s[n].filter(function(f){var a=f[0],y=f[1],h=f[2];if(u&&h.guid!==u.guid||!At(a,r)||i&&i!==y)return!0;t.removeEventListener(n,h)}));else for(n in s)F(t,n,r,i,u)}e.off=function(t,n,r){var i=this;if(v(t))this.each(function(s,f){!c(f)&&!D(f)&&!B(f)||F(f)});else if(g(t))A(n)&&(r=n,n=\"\"),d($(t),function(s,f){var a=nt(f),y=a[0],h=a[1],p=tt(y);i.each(function(O,b){!c(b)&&!D(b)&&!B(b)||F(b,p,h,n,r)})});else for(var u in t)this.off(u,t[u]);return this},e.remove=function(t){return x(this,t).detach().off(),this},e.replaceWith=function(t){return this.before(t).remove()},e.replaceAll=function(t){return o(t).replaceWith(this),this};function gn(t,n,r,i,u){var s=this;if(!g(t)){for(var f in t)this.on(f,n,r,t[f],u);return this}return g(n)||(v(n)||P(n)?n=\"\":v(r)?(r=n,n=\"\"):(i=r,r=n,n=\"\")),A(i)||(i=r,r=void 0),i?(d($(t),function(a,y){var h=nt(y),p=h[0],O=h[1],b=tt(p),W=p in Nt,rt=p in k;!b||s.each(function(it,m){if(!(!c(m)&&!D(m)&&!B(m))){var et=function(l){if(l.target[\"___i\".concat(l.type)])return l.stopImmediatePropagation();if(!(l.namespace&&!At(O,l.namespace.split(Z)))&&!(!n&&(rt&&(l.target!==m||l.___ot===b)||W&&l.relatedTarget&&m.contains(l.relatedTarget)))){var ut=m;if(n){for(var _=l.target;!pt(_,n);)if(_===m||(_=_.parentNode,!_))return;ut=_}Object.defineProperty(l,\"currentTarget\",{configurable:!0,get:function(){return ut}}),Object.defineProperty(l,\"delegateTarget\",{configurable:!0,get:function(){return m}}),Object.defineProperty(l,\"data\",{configurable:!0,get:function(){return r}});var En=i.call(ut,l,l.___td);u&&F(m,b,O,n,et),En===!1&&(l.preventDefault(),l.stopPropagation())}};et.guid=i.guid=i.guid||o.guid++,ln(m,b,O,n,et)}})}),this):this}e.on=gn;function vn(t,n,r,i){return this.on(t,n,r,i,!0)}e.one=vn;var pn=/%20/g,mn=/\\r?\\n/g;function yn(t,n){return\"&\".concat(encodeURIComponent(t),\"=\").concat(encodeURIComponent(n.replace(mn,`\\r\n`)).replace(pn,\"+\"))}var bn=/file|reset|submit|button|image/i,Ot=/radio|checkbox/i;e.serialize=function(){var t=\"\";return this.each(function(n,r){d(r.elements||[r],function(i,u){if(!(u.disabled||!u.name||u.tagName===\"FIELDSET\"||bn.test(u.type)||Ot.test(u.type)&&!u.checked)){var s=bt(u);if(!v(s)){var f=H(s)?s:[s];d(f,function(a,y){t+=yn(u.name,y)})}}})}),t.slice(1)},typeof exports<\"u\"?module.exports=o:M.cash=M.$=o})();"
      }
    },
    "note": {
      "text": {
        "default.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<form method=\"post\" action=\"{{req_path path}}\">\n  <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n  <textarea class=\"ui-text-field\" name=\"value\">{{_.value}}</textarea>\n  <button type=\"submit\">save</button>\n  <a href=\"{{req_path path \"res-delete\"}}\" class=\"but\">X</a>\n</form>"
        }
      },
      "url": {
        "default.hbs": {
          "_ct": "text/plain",
          "_pt": "resource/content",
          "_content": "<a href=\"{{_.value}}\" target=\"_blank\">{{or _.title _.value}}</a>\n<form method=\"post\" action=\"{{req_path path}}\">\n  <input type=\"hidden\" name=\":forward\" value=\"{{req_path \".\"}}\">\n  <input name=\"title\" value=\"{{_.title}}\" autocomplete=\"off\" placeholder=\"title\">\n  <input name=\"value\" value=\"{{_.value}}\" autocomplete=\"off\" placeholder=\"URL\">\n  <button type=\"submit\">save</button>\n  <a href=\"{{req_path path \"res-delete\"}}\" class=\"but\">X</a>\n</form>"
        }
      }
    }
  }
}